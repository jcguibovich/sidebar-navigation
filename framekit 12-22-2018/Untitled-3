@import 'mixins';

$fk-button-padding: $bp-space-squish-sm;
$fk-button-font-size: $bp-size-type-md;
// $fk-button-line-height: get('line-height.default');
$fk-button-border-radius: $bp-size-border-radius-md;

$fk-button-padding--sm: $bp-space-squish-sm;
$fk-button-font-size--sm: $bp-size-type-sm;
// $fk-button-line-height--sm: get('line-height.default');
$fk-button-border-radius--sm: $bp-size-border-radius-md;

$fk-button-padding--lg: $bp-space-squish-lg;
$fk-button-font-size--lg: $bp-size-type-lg;
// $fk-button-line-height--lg: get('line-height.default');
$fk-button-border-radius--lg: $bp-size-border-radius-md;


$btn-active-box-shadow:       $bp-layering-shadow-strong;
$btn-focus-box-shadow:        $bp-layering-shadow-subtle;


    //margin-top: $btn-block-spacing-y;
    // @mixin button-size($padding-y, $padding-x, $font-size, $line-height, $border-radius) {
    //   padding: $padding-y $padding-x;
    //   font-size: $font-size;
    //   line-height: $line-height;
    //   border-radius: $border-radius;
    // }

// mixin is in mixins

    @mixin hover-focus {
      &:hover,
      &:focus {
        @content;
      }
    }

    @mixin box-shadow($shadow...) {
      @if $enable-shadows {
        box-shadow: $shadow;
      }
    }
    

.fk-btn {
  display: inline-block;
  // Added so that all buttons have margin
  margin-right: $bp-space-spacing-md; //$bp-spacing-button-margins; // 16px currently
  font-weight: $bp-size-type-md;//$font-weight-base;
  color: $bp-color-feedback-interaction-base;//$bp-color-btn-text;
  text-align: center;
  white-space: nowrap;
  vertical-align: middle;
  user-select: none;
  background: $bp-color-neutral-00;
  border: 1px solid #d5d5d5;
  //box-shadow: $bp-layering-shadow-subtle;
  box-shadow: $bp-layering-shadow-subtle;

  //border: 1px solid rgb(236, 236, 236);
 
  font-weight: $bp-type-weight-sans-regular;

  padding: $fk-button-padding;
  font-size: $fk-button-font-size;
  // line-height: get('line-height.default');
  border-radius: $fk-button-border-radius;

  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out; 
 

  // do we need to include font size here tktktk Matthew 
  // font-size: rem(18px) !important;
  &.disabled,
  &:disabled {
    //opacity: $bp-layering-opacity-medium;//$btn-disabled-opacity;
    background-color: $bp-color-neutral-20;
    color:  $bp-color-neutral-50;
    // need to find this mixin
    //@include box-shadow(none);
    box-shadow: none;
    pointer-events: none;
  }
  /* in the near future &:focus-visible */
  &:hover,
  &.hover {
    
    // outline: 0;
    border: 1px solid $bp-color-border-light;
    box-shadow: $bp-layering-shadow-base;

    background-color: $bp-color-neutral-10;
  }
  // &:focus 
  // &.focus {
  //   outline: 2px solid blue;
  //   outline-offset: -10px;
  // }
  &:active,
  &.active,
  &.is-active,
  .show > &.dropdown-toggle {
    background-image: none; 
    border: 1px solid transparent;
    // outline: 0;
    box-shadow: none;
    box-shadow:  $bp-layering-shadow-subtle;
    } 

  // Need to re-write this because too much of it was bootstrap
  //@include button-size($btn-padding-y, $btn-padding-x, $font-size-base, $btn-line-height, $btn-border-radius);
  // Need to re-write this because too much of it was bootstrap

 // @include button-size($bp-spacing-xs, $bp-font-size-xs, $bp-font-size-md, $bp-line-height-default, $bp-size-border-radius-md);
  // @include button-size($fk-button-padding, $fk-button-font-size, $fk-button-line-height, $fk-button-border-radius );

  // undefined varaible. Need to find out where this variable is (I know it's in maps)
  @each $name, $colors in $button-colors {

    $color: nth($colors, 7);
    $hoverbgcolor: nth($colors, 3);
    $bgcolor: nth($colors, 4);
    $bordercolor: nth($colors, 2);
    $activebg: nth($colors, 4);
    $activeborder: nth($colors, 2);
    $focuscolor: nth($colors, 6);

    &-#{$name} { 
      // @extend .fk-btn;

      display: inline-block;
      // Added so that all buttons have margin
      margin-right: $bp-space-spacing-md; //$bp-spacing-button-margins; // 16px currently
      font-weight: $bp-type-weight-sans-regular;//$font-weight-base;
      text-align: center;
      white-space: nowrap;
      vertical-align: middle;
      user-select: none;
      border: 1px solid transparent;
      box-shadow:  $bp-layering-shadow-subtle;
    
      font-weight: $bp-type-weight-sans-regular;
      
      padding: $fk-button-padding;
      font-size: $fk-button-font-size;
      // line-height: get('line-height.default');
      border-radius: $bp-size-border-radius-md;
      //-webkit-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
    //  -o-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
      transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out; 
     
      color: $color;
      background-color: $bgcolor;

      /* in the near future &:focus-visible */
      &:hover,
      &.hover,
      &:focus,
      &.focus {
        // outline: 0;
        background-color: $hoverbgcolor;
        border: 0px;
        border: 1px solid transparent;
        box-shadow: $bp-layering-shadow-subtle;
        cursor: pointer;
      }
      &:focus {
        // outline: 3px auto $focuscolor;  
        // outline-offset: -5px;
        // outline-style: dotted;
      }
      // Disabled comes first so active can properly restyle 
      &.disabled,
      &:disabled {
        opacity: $bp-layering-opacity-medium;//$btn-disabled-opacity;
        box-shadow: none;
        pointer-events: none;
        }
        &:active,
        &.active,
        &.is-active,
        .show > &.dropdown-toggle {
          background-image: none; 
          border: 1px solid transparent;
          // outline: 0;
          box-shadow: none;
          box-shadow:  $bp-layering-shadow-subtle;
          } 
    }
  }


  // Share hover and focus styles
  // fix hover focus Matthew
  @include hover-focus {
    text-decoration: none;    
    // outline: 0;
  }

  &:focus,
  &.focus {
    box-shadow: $bp-layering-shadow-subtle;
    border: 1px solid transparent;
    // outline: 0;
    // outline: 3px auto $bp-color-brand-blue;  
    // outline-offset: -5px;
    // outline-style: dotted;
  }

  // Disabled comes first so active can properly restyle
  &.disabled,
  &:disabled {
    pointer-events: none;
    opacity: $bp-layering-opacity-medium;
    box-shadow: none;
  }

  // Opinionated: add "hand" cursor to non-disabled .btn elements
  &:not(:disabled):not(.disabled) {
    cursor: pointer;
  }

  &:not(:disabled):not(.disabled):active,
  &:not(:disabled):not(.disabled).active {
    background-image: none;
    @include box-shadow($btn-active-box-shadow);
    
        &:focus {
          @include box-shadow($btn-focus-box-shadow, $btn-active-box-shadow);
        }
  }
}

// Future-proof disabling of clicks on `<a>` elements
a.fk-btn.disabled,
fieldset:disabled a.fk-btn {
  pointer-events: none;
}

.fk-btn-icon {
  display: inline-flex;
  align-self: center;
  position: relative;
}
.fk-btn-icon-only {
  @extend .fk-btn;
  display: inline-block;
  font-weight: $bp-type-weight-sans-regular;
  color: $bp-color-feedback-interaction-base;
  text-align: center;
  white-space: nowrap;
  vertical-align: middle;
  user-select: none;
  border: 1px solid transparent;
  box-shadow: $bp-layering-shadow-subtle;
}



// Button Sizes
//

// .fk-btn-xs {
//   @include button-size($bp-spacing-xxs, $bp-spacing-sm, $bp-font-size-xs, $bp-line-height-compressed, $bp-size-border-radius-xs);
// }
// //orig tktktk
.fk-btn-sm {
  // @include button-size($fk-button-padding--sm, $fk-button-font-size--sm, $fk-button-line-height--sm, $fk-button-border-radius--sm);
}
.fk-btn-md {
  // @include button-size($fk-button-padding, $fk-button-font-size, $fk-button-line-height, $fk-button-border-radius);
}
//orig tktktk
.fk-btn-lg {
  // @include button-size($fk-button-padding--lg, $fk-button-font-size--lg, $fk-button-line-height--lg, $fk-button-border-radius--lg);
}
// .fk-btn-xl {
//   @include button-size($bp-spacing-lg, $bp-spacing-xl, $bp-font-size-xl, $bp-line-height-fluffy, $bp-size-border-radius-md);
// }
// .fk-btn-xxl {
//   @include button-size($bp-spacing-lg, $bp-spacing-xl, $bp-font-size-xxl, $bp-line-height-fluffy, $bp-size-border-radius-md);
// }


//
// Block button
//

.fk-btn-block {
  display: block;
  width: 100%;

  // Vertically space out multiple block buttons
  + .fk-btn-block {
    //Matthew to fix
    margin-top: $bp-space-spacing-md;
  }
}

// Specificity overrides
input[type="submit"],
input[type="reset"],
input[type="button"] {
  &.fk-btn-block {
    width: 100%;
  }
}


// is there the need to provide directions on icon only for btn-text?

// Change active and focus state depending upon keyboard or mouse